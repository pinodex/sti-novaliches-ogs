{% extends '/_layout/main-default.html' %}

{% set page_title = 'View faculty' %}

{% block content %}
    <div class="container">
        <h1>{{ page_title }}</h1>

        <div class="grid">
            <div class="column-4">
                <div class="panel">
                    <div class="panel-heading">Information</div>
                    <div class="panel-body">
                        <table class="borderless colorless">
                            <tbody>
                                <tr>
                                    <td>Last Name</td>
                                    <td>{{ faculty.last_name }}</td>
                                </tr>
                                <tr>
                                    <td>First Name</td>
                                    <td>{{ faculty.first_name }}</td>
                                </tr>
                                <tr>
                                    <td>Middle Name</td>
                                    <td>{{ faculty.middle_name }}</td>
                                </tr>
                                <tr>
                                    <td>Department</td>
                                    <td>{{ faculty.department ? faculty.department.name : 'Unassigned' }}</td>
                                </tr>
                                <tr>
                                    <td>Last login</td>
                                    <td>{{ faculty.last_login_at }}</td>
                                </tr>
                                <tr>
                                    <td>Status</td>
                                    <td>{{ faculty.status }}</td>
                                </tr>
                                <tr>
                                    <td>Remarks</td>
                                    <td>{{ faculty.is_valid ? 'Valid' : 'Invalid' }}</td>
                                </tr>
                                <tr>
                                    <td>Failed</td>
                                    <td>{{ faculty.number_of_fails }}</td>
                                </tr>
                                <tr>
                                    <td>Dropped</td>
                                    <td>{{ faculty.number_of_drops }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                
                <div class="panel">
                    <div class="panel-heading">Actions</div>
                        <div class="panel-body">
                        <ul class="list-unstyled">
                             <li>
                                <a href="{{ path('dashboard.faculty.viewReport', {id: faculty.id}) }}">View report</a>
                            </li>
                            {% if current_user.getRole() == 'admin' %}
                                <li>
                                    <a href="{{ path('dashboard.faculty.edit', {id: faculty.id}) }}">Edit Faculty</a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </div>

            <div class="column-8">
                <div class="panel">
                    <div class="panel-heading">Grade submission logs</div>
                    <div class="panel-body">
                        {% if logs is empty %}
                            <div class="alert alert-info">No records found.</div>
                        {% else %}
                            <table>
                                <tbody>
                                    {% for log in logs %}
                                        <tr>
                                            <td>{{ log.date }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}