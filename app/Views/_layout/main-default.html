<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!--
    ╭──────────────────────────────────────────╮
    │        Front-end & Back-end Dev't        │
    ╞══════════════════════════════════════════╡
    │             RAPHAEL MARCO                │
    │                                          │
    │           pinodex.github.io              │
    │        raphaelmarco@outlook.com          │
    ╰──────────────────────────────────────────╯
    -->
    <meta name="description" content="View your grades online." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:title" content="{{ page_title }} - STI College Novaliches" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ app.request.uri }}" />
    <meta property="og:description" content="View your grades online." />
    <meta property="og:image" content="" />

    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <!--
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans" />
    -->

    <title>{{ page_title }} - STI College Novaliches</title>
</head>
<body class="{{ body_class | default('') }}" id="app">
    <div class="top-bar{{ current_user is null ? ' not-logged-in' }}">
        <div class="container">
            <button class="nav-toggle" v-on:click="toggleNav()">
                <span class="icon-menu"></span>
            </button>
            
            <div class="logo-area">
                <img src="/assets/img/logo-horizontal.png" alt="Logo" />
            </div>

            <nav v-bind:class="{'active': isNavActive}">
                {% if current_user is not null %}
                    <ul class="left">
                        {% if current_user.getRole() == 'admin' %}
                            <li{{ active_nav == 'admin' ? ' class="active"'}}>
                                <a href="{{ path('admin.index') }}" title="Admin">
                                    <span class="icon-person_outline"></span>
                                    <span class="text">Admin</span>
                                </a>
                            </li>
                        {% endif %}
                        {% if current_user.getRole() == 'faculty' or current_user.getRole() == 'admin' %}
                            <li{{ active_nav == 'students' ? ' class="active"'}}>
                                <a href="{{ path('faculty.index') }}" title="Student List">
                                    <span class="icon-list"></span>
                                    <span class="text">Students</span>
                                </a>
                            </li>
                            <li{{ active_nav == 'import_grades' ? ' class="active"'}}>
                                <a href="{{ path('faculty.grades.import') }}" title="Import Grades">
                                    <span class="icon-file_upload"></span>
                                    <span class="text">Import Grades</span>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                    <ul class="right">
                        <li>
                            <span><strong>{{ current_user.getName()|title }}</strong></span>
                        </li>
                        <li>
                            <a href="{{ path('site.logout', {_token: csrf_token('logout')}) }}">Logout</a>
                        </li>
                    </ul>
                {% endif %}
            </nav>
        </div>
    </div>

    <div class="container">
        {% for error in flashbag('messages') %}
            <div class="alert alert-{{ error|split('>>>')[0] }}">{{ error|split('>>>')[1] }}</div>
        {% endfor %}
    </div>

    {% block content %}{% endblock %}

    <script src="/assets/js/vue.js"></script>
    <script src="/assets/js/app.js"></script>
    {% if extra_data is defined %}
        <script>var extraData = {{ extra_data|json_encode|raw }};</script>
    {% endif %}
</body>
</html>